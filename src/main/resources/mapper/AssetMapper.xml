<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="cn.shadowkylin.ham.dao.AssetDao">
    <select id="getAssetList" resultType="List">
        SELECT *
        FROM asset
        WHERE user_id = #{user_id}
    </select>
    <select id="getAssetDetail" resultType="Asset">
        SELECT *
        FROM asset
        WHERE id = #{asset_id}
    </select>
    <insert id="addAsset" parameterType="Asset">
        INSERT INTO asset (asset_type_id,user_id, name, purchase_date, purchase_price, current_value, notes)
        VALUES (#{assetTypeId},#{userId}, #{name}, #{purchaseDate}, #{purchasePrice}, #{currentValue},
                #{notes})
    </insert>
    <update id="updateAsset">
        UPDATE asset
        SET asset_type_id  = #{asset_type_id},
            user_id        = #{user_id},
            name           = #{name},
            purchase_date  = #{purchase_date},
            purchase_price = #{purchase_price},
            current_value  = #{current_value},
            notes          = #{notes}
        WHERE id = #{id}
    </update>
    <delete id="deleteAsset">
        DELETE
        FROM asset
        WHERE id = #{id}
    </delete>
    <delete id="deleteAssetList">
        DELETE
        FROM asset
        WHERE id IN
        <foreach collection="idList" item="id" open="(" separator="," close=")">
            #{id}
        </foreach>
    </delete>
</mapper>